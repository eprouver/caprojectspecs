<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />
  <link rel="stylesheet prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.css">
  <link rel="stylesheet prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
  <link rel="stylesheet prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <link rel="stylesheet" href="css/colorpicker.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="app-holder" ng-app="app" ng-cloak style="display:none">
    <div class="container-fluid">
      <div class="navbar">
        <div class="nav-item">
          <button class="btn btn-secondary btn-block" onclick="$('.menu-item').hide(); $('#edit-content').show()">
            Edit Spec
          </button>
        </div>
        <div class="nav-item">
          <button class="btn btn-secondary btn-block" onclick="$('.menu-item').hide(); $('#output-files').show()">
            Output Files
          </button>
        </div>
        <!-- <div class="nav-item">
          <button class="btn btn-secondary btn-block">
            Placement Slideshow
          </button>
        </div>
        <div class="nav-item">
          <button class="btn btn-secondary btn-block">
            Rendered Slideshow
          </button>
        </div> -->
        <div class="nav-item">
          <button class="btn btn-secondary btn-block" data-toggle="collapse" data-target="#rendererData" aria-expanded="false" aria-controls="collapseExample">
            Global Settings
          </button>
        </div>
        <div class="nav-item">
          <button class="btn btn-secondary btn-block" onclick="$('#mod-upload').modal('show')">
            Paste Data
          </button>
        </div>
      </div>
      <div>
        <div class="collapse" id="rendererData">
          <h3 class="text-light">Global Settings</h3>
          <div class="card card-body bg-light">
            <div class="row">
              <div class="col">
                <h4>Info</h4>
                <div class="form-group">
                  <label>Renderer Name:</label>
                  <input type="text" class="form-control" placeholder="Renderer Name" ng-model="$root.specData.name" />
                </div>
                <div class="row">
                  <div class="col">
                    <div class="form-group">
                      <label>Origin Offset X:</label>
                      <input type="text" class="form-control" placeholder="Origin Offset X" ng-model="$root.specData.originOffsetX" />
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <label>Origin Offset Y:</label>
                      <input type="text" class="form-control" placeholder="Origin Offset Y" ng-model="$root.specData.originOffsetY" />
                    </div>
                  </div>
                </div>
                <label>Renderer Tech</label>
                <div class="row">
                  <div class="col">
                    <div class="form-group">
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="instruction" id="in-canvas" ng-model="$root.specData.renderer" value="canvas">
                        <label class="form-check-label" for="in-canvas">
                          Canvas
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="practice" id="in-html" ng-model="$root.specData.renderer" value="html">
                        <label class="form-check-label" for="in-html">
                          HTML
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label>Prefix:</label>
                  <input type="text" class="form-control" placeholder="ex. tpp-t1" ng-model="$root.specData.prefix" />
                </div>
                <div class="form-group">
                  <label>Code:</label>
                  <input type="text" class="form-control" placeholder="ex. tpp-t1-s1" ng-model="$root.specData.code" />
                </div>
                <div class="form-group">
                  <label>Confluence Link:</label>
                  <input type="text" class="form-control" placeholder="Confluence Link" />
                </div>
                <div class="form-group">
                  <label for="shape-notes">Notes</label>
                  <textarea class="form-control" id="shape-notes" placeholder="Notes">
                </textarea>
                </div>
              </div>
              <div class="col">
                <h4>Callable Mechanisms</h4>
                <div class="card card-body">
                  <div class="row">
                    <div class="col">
                      <input class="form-control" type="text" placeholder="name" />
                    </div>
                    <div class="col">
                      <select class="form-control">
                        <option>Actions</option>
                      </select>
                    </div>
                    <div class="col-2">
                      <div class="btn btn-danger">
                        <i class="fa fa-close"></i>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="cm-notes">Notes</label>
                    <textarea class="form-control" id="cm-notes" placeholder="Notes"></textarea>
                  </div>
                </div>
                <hr/>
                <div class="btn btn-success float-right">
                  <i class="fa fa-plus"></i> Add CM
                </div>
              </div>
            </div>
          </div>
          <br/>
          <br/>
        </div>
        <output-files content="$root.specData"></output-files>
        <div id="edit-content" class="menu-item" style="display:none">
          <h1 class="text-light">Edit Spec: <ng-pluralize count="$root.specData.states.length - 1" when="{0: 'No States', 1: 'One State', other: '{} States'}"></ng-pluralize></h1>
          <div ng-controller="states as statesCtrl">
            <div class="row" ui-sortable="{distance: 5}" ng-model="$root.specData.states">
              <div class="col-2" ng-repeat="(i,a) in $root.specData.states" ng-switch="a.baseState" ng-click="statesCtrl.selectState(a)">

                <div class="alert alert-primary text-center" ng-switch-when="true">
                  <div class="text-sm mb-2 ellip">Base (Title)</div>
                  <div class="ellip">(Code Var Name)</div>
                  <canvas class="test-canvas t-card my-2" ng-class="baseState.active ? 'active': ''"></canvas>
                  <div class="ellip">(Located In&hellip;)</div>
                </div>

                <div class="alert alert-dark" ng-switch-when="false">
                  <button class="btn btn-success btn-sm float-right" ng-click="statesCtrl.copyState(a)">
                    <i class="fa fa-copy"></i>&nbsp;
                  </button>
                  <div class="text-dark ellip mb-2">{{a.title}}</div>
                  <div class="text-muted">
                    {{a.var}}
                  </div>

                  <canvas class="test-canvas t-card my-2" ng-class="a.active ? 'active': ''"></canvas>
                  <div class="d-flex justify-content-between flex-wrap">
                    <button type="button" class="btn badge badge-pill" ng-class="{'badge-light': a.inInstruction, 'badge-dark': !a.inInstruction}" ng-click="a.inInstruction = !a.inInstruction">I</button>
                    <button type="button" class="btn badge badge-pill" ng-class="{'badge-light': a.inPractice, 'badge-dark': !a.inPractice}" ng-click="a.inPractice = !a.inPractice">P</button>
                    <button type="button" class="btn badge badge-pill" ng-class="{'badge-light': a.inQuiz, 'badge-dark': !a.inQuiz}" ng-click="a.inQuiz = !a.inQuiz">Q</button>
                    <button class="btn btn-danger btn-sm" ng-click="statesCtrl.removeState(a)">
                      <i class="fa fa-close"></i>
                    </button>
                  </div>

                </div>
              </div>
              <div class="col-1">
                <button class="btn btn-success btn-block" title="Add Screen" ng-click="statesCtrl.addState()">
                  <i class="fa fa-plus fa-3x"></i>
                </button>
              </div>
            </div>
          </div>
          <br/>
          <div ng-show="activeState()">
            <div class="row">
              <div class="col-1 text-center">
                &nbsp;
              </div>
              <div class="col-8 text-center">
                <div class="input-group mb-3">
                  <input class="form-control text-center" ng-disabled="activeState().baseState" type="text" ng-model="activeState().title" placeholder="Name" />
                  <input class="form-control text-center" ng-disabled="activeState().baseState" type="text" ng-model="activeState().var" placeholder="State Variable" />

                  <div class="input-group-append">
                    <button class="btn btn-outline-light" type="button" data-toggle="collapse" data-target="#stateData" aria-expanded="false" aria-controls="collapseExample">
                      <i class="fa fa-info"></i>
                    </button>
                  </div>
                </div>
                <div class="collapse" id="stateData">
                  <div class="card card-body">
                    <div class="form-group">
                      <label>Available In</label>
                      <div class="row">
                        <div class="col">
                          <div class="form-group">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" name="instruction" id="in-Instruction" ng-model="activeState().inInstruction" value="true">
                              <label class="form-check-label" for="in-Instruction">
                                Instruction
                              </label>
                            </div>
                          </div>
                        </div>
                        <div class="col">
                          <div class="form-group">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" name="practice" id="in-Practice" ng-model="activeState().inPractice" value="true">
                              <label class="form-check-label" for="in-Practice">
                                Practice
                              </label>
                            </div>
                          </div>
                        </div>
                        <div class="col">
                          <div class="form-group">
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" name="quiz" id="in-Quiz" ng-model="activeState().inQuiz" value="true">
                              <label class="form-check-label" for="in-Quiz">
                                Quiz
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="state-notes">Notes</label>
                      <textarea class="form-control" id="state-notes" placeholder="Notes" ng-model="activeState().notes">
                      </textarea>
                    </div>
                    <div class="form-group">
                      <label for="state-link">Link</label>
                      <input type="text" class="form-control" id="state-link" placeholder="Confluence Link" ng-model="activeState().link"/>
                    </div>
                  </div>
                  <br/>
                </div>
              </div>
              <div class="col-3 text-center">
                &nbsp;
              </div>
            </div>

            <div class="row full-height">
              <div class="col-1 action-buttons">
                <!--    Container Items      -->
                <div ng-show="activeState().baseState">
                  <button class="btn btn-primary btn-block" title="Text" data-toggle="modal" data-target="#mod-text" ng-click="$root.$broadcast('new-text')">
                    <i ng-class="typeToIcon['text']"></i>
                  </button>
                  <button class="btn btn-primary btn-block" title="Assets" data-toggle="modal" data-target="#mod-asset" ng-click="$root.$broadcast('new-asset')">
                    <i ng-class="typeToIcon['asset']"></i>
                  </button>
                  <button class="btn btn-primary btn-block" title="Widgets" data-toggle="modal" data-target="#mod-widget" ng-click="$root.$broadcast('new-widget')">
                    <i ng-class="typeToIcon['widget']"></i>
                  </button>
                  <button class="btn btn-primary btn-block" title="Shapes" data-toggle="modal" data-target="#mod-shape" ng-click="$root.$broadcast('new-shape')">
                    <i ng-class="typeToIcon['shape']"></i>
                  </button>
                  <br/>
                  <!-- <button class="btn btn-secondary btn-block" title="Containers" data-toggle="modal" data-target="#mod-container" ng-click="$root.$broadcast('new-container')">
                    <i ng-class="typeToIcon['container']"></i>
                  </button> -->
                  <!-- <button class="btn btn-secondary btn-block" title="Interactions" data-toggle="modal" data-target="#mod-interaction" ng-click="$root.$broadcast('new-interaction')">
                    <i ng-class="typeToIcon['interaction']"></i>
                  </button> -->
                </div>
                <!--     Not Container Items     -->
                <div ng-show="!activeState().baseState">
                  <button class="btn btn-secondary btn-block" title="Workspaces" data-toggle="modal" data-target="#mod-workspace" style="display:none">
                    <i ng-class="typeToIcon['workspace']"></i>
                  </button>
                  <button class="btn btn-secondary btn-block" title="Settings" data-toggle="modal" data-target="#mod-setting" ng-click="$root.$broadcast('new-setting')">
                    <i ng-class="typeToIcon['setting']"></i>
                  </button>
                  <button class="btn btn-secondary btn-block" title="Keyframes" data-toggle="modal" data-target="#mod-keyframe" ng-click="$root.$broadcast('new-keyframe')">
                    <i ng-class="typeToIcon['keyframe']"></i>
                  </button>
                  <button class="btn btn-secondary btn-block" title="Animations" data-toggle="modal" data-target="#mod-animation" ng-click="$root.$broadcast('new-animation')">
                    <i ng-class="typeToIcon['animation']"></i>
                  </button>
                  <button class="btn btn-secondary btn-block" title="Sounds" data-toggle="modal" data-target="#mod-sound" ng-click="$root.$broadcast('new-sound')">
                    <i ng-class="typeToIcon['sound']"></i>
                  </button>
                  <button class="btn btn-secondary btn-block" title="Actions" data-toggle="modal" data-target="#mod-action" ng-click="$root.$broadcast('new-action')">
                    <i ng-class="typeToIcon['action']"></i>
                  </button>
                  <br/>
                  <button class="btn btn-info btn-block" title="Copy Item" data-toggle="modal" data-target="#mod-copy" ng-click="$root.$broadcast('new-copy')">
                    <i class="fa fa-copy"></i>
                  </button>
                </div>
              </div>
              <div class="col-8">
                <ul class="nav nav-justified nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item">
                    <span class="nav-link active text-primary" id="place-tab" data-toggle="tab" role="tab" aria-controls="place" aria-selected="true">Place</span>
                  </li>
                  <li class="nav-item">
                    <span class="nav-link text-primary" id="render-tab" data-toggle="tab" role="tab" aria-controls="render" aria-selected="false">Render</span>
                  </li>
                </ul>
                <div class="tab-content bg-white" id="myTabContent" ng-controller="content as contentCtrl">
                  <div class="tab-pane fade show active" id="place" role="tabpanel" aria-labelledby="place-tab">
                    <div id="place-canvas" class="state-size">
                      <div id="origin-offset" origin-offset ng-style="{top: getTop(), left: getLeft()}">
                        <i class="fa fa-crosshairs text-muted" aria-hidden="true"></i>
                      </div>
                      <div my-draggable class="draggable border" ng-repeat="item in getContent(activeState(), 'visualElement', true)" ng-click="contentCtrl.setActive(item)" ng-style="{top: getTop(), left: getLeft(), width: item.params.width * widthRatio(), height: item.params.height * heightRatio(), zIndex: item.active ? 1040 : $index}"
                        ng-class="item.active ? 'border-warning': 'border-primary'">
                        <div ng-switch="item.type">
                          <span class="badge" ng-class="item.active ? 'badge-warning': 'badge-primary'">
                        <i ng-class="typeToIcon[item.type]"></i>
                      </span> {{item.title}}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="render" role="tabpanel" aria-labelledby="render-tab">
                    <canvas id="render-canvas" class="state-size" width="1250" height="937">
                    </canvas>
                  </div>
                </div>
              </div>

              <div class="col-3" ng-controller="content as contentCtrl">
                <tg-dynamic-directive ng-model="contentCtrl.activeState" tg-dynamic-directive-view="contentCtrl.getView">
                </tg-dynamic-directive>
                <div style="clear: both;"></div>
              </div>

              <br/><br/>
            </div>
          </div>

          <div id="output">

          </div>
        </div>
        <!-- Add Workspace -->
        <div id="modals" ng-controller="content">
          <div id="mod-workspace" class="modal modal-lg" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Select Workspace</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <select name="mySelect" id="mySelect" class="form-control" ng-options="option.name for option in data.availableOptions track by option.id" ng-model="data.selectedOption">
                </select>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-success" ng-click="replaceContent(activeState(), {type: 'workspace', id: 'workspace', canHaveChildren: false})" onclick="$('#mod-workspace').modal('hide')">Set Workspace</button>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Shape -->
          <div id="mod-shape" class="modal" tabindex="-1" role="dialog" ng-controller="shapes as ctrl">
            <div class="modal-dialog modal-lg modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Shape</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label>Shape Name:</label>
                    <input type="text" class="form-control" placeholder="Shape Name" ng-model="ctrl.current.title" />
                  </div>
                  <div class="form-group">
                    <label>Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Variable Name" ng-model="ctrl.current.var" />
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Container -->
          <div id="mod-container" class="modal" tabindex="-1" role="dialog" ng-controller="containers as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Container</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label>Container Name:</label>
                    <input type="text" class="form-control" placeholder="Container Name" ng-model="ctrl.current.title" />
                  </div>
                  <div class="form-group">
                    <label>Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Container Name" ng-model="ctrl.current.var" />
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Container -->
          <div id="mod-interaction" class="modal" tabindex="-1" role="dialog" ng-controller="interactions as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Interaction</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label>Interaction Name:</label>
                    <input type="text" class="form-control" placeholder="Interaction Name" ng-model="ctrl.current.title" />
                  </div>
                  <div class="form-group">
                    <label>Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Interaction Var" ng-model="ctrl.current.var" />
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!--  Add Text  -->
          <div id="mod-text" class="modal" tabindex="-1" role="dialog" ng-controller="text as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Text</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label>Text:</label>
                    <input type="text" class="form-control" placeholder="Text" ng-model="ctrl.current.title" />
                  </div>
                  <div class="form-group">
                    <label>Code Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Code Variable Name" ng-model="ctrl.current.var" />
                  </div>
                  <div class="form-group">
                    <label>Delivery Name:</label>
                    <input type="text" class="form-control" placeholder="Delivery Name" ng-model="ctrl.current.delivery" />
                  </div>
                  <div class="form-group">
                    <label>Source:</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="authoring" id="authoring-audio" ng-model="ctrl.current.source" value="authoring" checked>
                      <label class="form-check-label" for="authoring-audio">
                      Authoring
                    </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="style" id="style-audio" ng-model="ctrl.current.source" value="constant">
                      <label class="form-check-label" for="style-audio">
                      Constant
                    </label>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <div class="form-group">
                        <label>Position X:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.x" />
                      </div>
                      <div class="form-group">
                        <label>Position Y:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.y" />
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label>Font:</label>
                        <input type="text" class="form-control" ng-model="ctrl.current.params.font" />
                      </div>
                      <div class="form-group">
                        <label>Size:</label>
                        <input type="text" class="form-control" ng-model="ctrl.current.params.size" />
                      </div>
                      <div class="form-group">
                        <label>Color: {{ctrl.current.params.color}}</label>
                        <input class="form-control" color-picker ng-style="{background:ctrl.current.params.color}" color-picker-model="ctrl.current.params.color" color-picker-output-format="'hex'" color-picker-position="top" color-picker-fixed-position="false"
                          color-picker-show-cancel-button="false" color-picker-show-value="false" />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Asset -->
          <div id="mod-asset" class="modal" tabindex="-1" role="dialog" ng-controller="assets as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Assets</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label>Asset Name:</label>
                    <input type="text" class="form-control" placeholder="Asset Name" ng-model="ctrl.current.title" />
                  </div>
                  <div class="form-group">
                    <label>Code Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Code Variable Name" ng-model="ctrl.current.var" />
                  </div>
                  <div class="form-group">
                    <label>Expected Name:</label>
                    <input type="text" class="form-control" placeholder="Delivery Name" ng-model="ctrl.current.params.assetName" />
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <div class="form-group">
                        <label>Position X:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.x" />
                      </div>
                      <div class="form-group">
                        <label>Position Y:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.y" />
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label>Width:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.width" />
                      </div>
                      <div class="form-group">
                        <label>Height:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.height" />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Sound -->
          <div id="mod-sound" class="modal" tabindex="-1" role="dialog" ng-controller="sounds as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Sounds</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="sound-title">Sound</label>
                    <input type="text" class="form-control" id="sound-title" placeholder="Sound" ng-model="ctrl.current.title">
                  </div>
                  <div class="form-group">
                    <label>Code Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Code Variable Name" ng-model="ctrl.current.var" />
                  </div>
                  <div class="form-group">
                    <label>Delivery Name:</label>
                    <input type="text" class="form-control" placeholder="Delivery Name" ng-model="ctrl.current.delivery" />
                  </div>
                  <div class="form-group">
                    <label>Source:</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="authoring" id="authoring-audio" ng-model="ctrl.current.source" value="authoring" checked>
                      <label class="form-check-label" for="authoring-audio">
                      Authoring
                    </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="style" id="style-audio" ng-model="ctrl.current.source" value="style">
                      <label class="form-check-label" for="style-audio">
                      Style
                    </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="style" id="global-audio" ng-model="ctrl.current.source" value="global">
                      <label class="form-check-label" for="global-audio">
                      Global
                    </label>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Action -->
          <div id="mod-action" class="modal" tabindex="-1" role="dialog" ng-controller="actions as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Actions</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="action-title">Action</label>
                    <input type="text" class="form-control" id="action-title" placeholder="Action" ng-model="ctrl.current.title">
                  </div>
                  <div class="form-group">
                    <label>Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Container Name" ng-model="ctrl.current.var" />
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Asset -->
          <div id="mod-widget" class="modal" tabindex="-1" role="dialog" ng-controller="widgets as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Widgets</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label>Widget:</label>
                    <input type="text" class="form-control" placeholder="Widget Name" ng-model="ctrl.current.title" />
                  </div>
                  <div class="form-group">
                    <label>Source:</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="authoring" id="authoring-audio" ng-model="ctrl.current.source" value="authoring" checked>
                      <label class="form-check-label" for="authoring-audio">
                      Global Widgets
                    </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="style" id="style-audio" ng-model="ctrl.current.source" value="style">
                      <label class="form-check-label" for="style-audio">
                      Renderer Specific
                    </label>
                    </div>
                  </div>
                  <div class="form-group">
                    <label>Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Container Name" ng-model="ctrl.current.var" />
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <div class="form-group">
                        <label>Position X:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.x" />
                      </div>
                      <div class="form-group">
                        <label>Position Y:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.y" />
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="form-group">
                        <label>Width:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.width" />
                      </div>
                      <div class="form-group">
                        <label>Height:</label>
                        <input type="number" class="form-control" ng-model="ctrl.current.params.height" />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Animations -->
          <div id="mod-animation" class="modal" tabindex="-1" role="dialog" ng-controller="animations as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Animations</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="animation-title">Animation Name</label>
                    <input type="text" class="form-control" id="animation-title" placeholder="Animation Name" ng-model="ctrl.current.title">
                  </div>
                  <div class="form-group">
                    <label>Variable Name:</label>
                    <input type="text" class="form-control" placeholder="Container Name" ng-model="ctrl.current.var" />
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Setting -->
          <div id="mod-setting" class="modal" tabindex="-1" role="dialog" ng-controller="settings as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Settings</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="setting-title">Setting</label>
                    <input type="text" class="form-control" id="setting-title" placeholder="Setting" ng-model="ctrl.current.title">
                  </div>
                  <div class="row">
                    <div class="col">
                      <div class="form-group">
                        <label>Variable Name:</label>
                        <input type="text" class="form-control" placeholder="What is the name in code?" ng-model="ctrl.current.var" />
                      </div>
                    </div>
                    <div class="col">
                      <div class="form-group">
                        <label>Value:</label>
                        <input type="text" class="form-control" placeholder="What is the name in code?" ng-model="ctrl.current.value" />
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>Source:</label>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="authoring" id="authoring-setting" ng-model="ctrl.current.source" value="authoring" checked>
                      <label class="form-check-label" for="authoring-setting">
                      Authoring
                    </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="style" id="style-setting" ng-model="ctrl.current.source" value="style">
                      <label class="form-check-label" for="style-setting">
                      Style
                    </label>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <!-- Add Keyframe -->
          <div id="mod-keyframe" class="modal" tabindex="-1" role="dialog" ng-controller="keyframes as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Keyframes</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="setting-title">Name:</label>
                    <input type="text" class="form-control" id="keyframe-title" placeholder="Keyframe" ng-model="ctrl.current.title">
                  </div>
                  <div class="row">
                    <div class="col">
                      <div class="form-group">
                        <label>Keyframe Label:</label>
                        <input type="text" class="form-control" placeholder="Keyframe Label" ng-model="ctrl.current.var" />
                      </div>
                    </div>
                    <div class="col">
                      <div class="form-group">
                        <label>Keyframe Number:</label>
                        <input type="text" class="form-control" placeholder="Keyframe Number" ng-model="ctrl.current.value" />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <modal-actions ctrl="ctrl"></modal-actions>
                </div>
              </div>
            </div>
          </div>
          <div id="mod-upload" class="modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Input Data</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <textarea class="form-control" ng-model="jsonInput"></textarea>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-success" ng-click="inputJSON(jsonInput)" onclick="$('#mod-upload').modal('hide')">Upload Data</button>
                </div>
              </div>
            </div>
          </div>

          <div id="mod-copy" class="modal" tabindex="-1" role="dialog" ng-controller="copy as ctrl">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Copy Content</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-4">
                      Select State:
                      <div ng-repeat="s in $root.specData.states">
                        <div class="btn btn-sm mb-1 btn-block" ng-click="ctrl.chooseState(s)" ng-class="{'btn-primary': s == ctrl.current, 'btn-secondary': s != ctrl.current}">
                          {{s.title}}
                        </div>
                      </div>
                    </div>
                    <div class="col">
                      <div ng-repeat="c in getContent(ctrl.current)" class="bg-secondary mb-1 p-1 text-light">
                        <div class="row">
                          <div class="col-3 text-left">
                            <div class="badge badge-dark">
                              <i ng-class="typeToIcon[c.type]" class="fa-2x"></i>
                            </div>
                          </div>
                          <div class="col-6 text-center line-correct mt-1">
                            {{c.title}}
                          </div>
                          <div class="col-3 text-right" ng-controller="content as contentCtrl">
                            <button class="btn btn-success btn-sm" ng-click="contentCtrl.addContent(activeState(), c, c.type);">
                            <i class="fa fa-copy"></i> <i class="fa fa-arrow-right"></i>
                          </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>


      </script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js'></script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.9/angular.js'></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.10/ngStorage.min.js"></script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/angular-ui-sortable/0.19.0/sortable.min.js'></script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js'></script>
      <script src='https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.5/lodash.js'></script>
      <script src='https://rawgithub.com/thgreasi/tg-dynamic-directive/master/src/tg.dynamic.directive.js'></script>
      <script src="js/colorpicker.js"></script>
      <script src='js/script.js'></script>
      <script src='js/modalActions.js'></script>
      <script src='js/output.js'></script>
      <script>
        window.onunload = function() {
          window.scrollTo(0, 0);
        }
      </script>
</body>

</html>
